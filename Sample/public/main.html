  <!-- POPUP SECTION -->
  <div id="departurePopup" class="popup">
    <button onclick="hideCalendarPopup('departure')">Close</button>
    <div class="wrapper">
      <p>Choose a Date for Departure</p>
      <input type="date" name="" value="" style="position: absolute; left:0; top: 60%;" id="dateInput" oninput="convertDateFormat()">
    </div>
  </div>

  <div id="returnPopup" class="popup">
    <button onclick="hideCalendarPopup('return')">Close</button>
   <div class="wrapper">
    <p>Choose a Date for Return</p>
    <input type="date" name="" value="" style="position: absolute; left:0; top: 60%;" id="dateInput1" oninput="convertDateFormat1()">
  </div>
</div>

  <div id="toPopup" class="popup">
    <button onclick="hideCalendarPopup('to')">Close</button>

    <div class="to-wrappers">
    <p>From</p>
    <input type="text" name="" value="Bogo City">
    <h5>Select From</h5>

    <div class="scroll-sec">



    <div class="place" id="b1">
      <p>Bungtod</p>
      <span>Bogo City</span>
    </div>

    <div class="place" id="b2">
      <p>Taytayan</p>
      <span>Bogo City</span>
    </div>

    <div class="place" id="b3">
      <p>Gairan</p>
      <span>Bogo City</span>
    </div>
</div>

    </div>
  </div>

  <input type="button" name=""id="ctaBtn" value="Find your Tricycle">
  
  
  <script type="module">
          import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

// Firebase configuration (same as in your provided code)
const firebaseConfig = {
  apiKey: "AIzaSyCsArVB68AapedELqHyLgFoDLrIlNMMYkE",
  authDomain: "tricycle-reservation-app.firebaseapp.com",
  databaseURL: "https://tricycle-reservation-app-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "tricycle-reservation-app",
  storageBucket: "tricycle-reservation-app.appspot.com",
  messagingSenderId: "500857377124",
  appId: "1:500857377124:web:fb78eab96be7a5ae6c6a71"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);

// Get Auth and Database instances
const auth = getAuth();
const database = getDatabase();

// Auth State Changed (check if user is logged in)
onAuthStateChanged(auth, (user) => {
  if (user) {
    // User is signed in
    // Retrieve user's name from the database
    const userRef = ref(database, `users/${user.uid}`);
    onValue(userRef, (snapshot) => {
      const userData = snapshot.val();
      const fullName = userData ? userData.fullName : user.displayName;

      // Display user's name
      document.getElementById('displayName').innerText = fullName;
      //document.getElementById('userFullName').style.display = 'block';
    });
  } else {
    // User is signed out
    document.getElementById('userFullName').style.display = 'none';
  }
});

// Logout Function
window.logout = function() {
  signOut(auth);
  window.location.href = "index.html";
};


function showCalendar(type) {
    const popup = document.getElementById(type + 'Popup');
    popup.style.height = '45%';
    popup.style.width = '100%';
    popup.style.bottom = '0';
    }

    function hideCalendarPopup(type) {
    const popup = document.getElementById(type + 'Popup');
    popup.style.height = '0';
    popup.style.width = '0';
    popup.style.bottom = '-100%';
    }


    // POP UP FOR CHOOSING DESTINATION

    function showTo(type) {
    const popup = document.getElementById(type + 'Popup');
    popup.style.height = '60%';
    popup.style.width = '100%';
    popup.style.bottom = '0';
    }




    function convertDateFormat() {
        // Get the date value from the input
        var dateInput = document.getElementById("dateInput").value;

        // Convert the date to a Date object
        var dateObject = new Date(dateInput);

        // Format the date as MMM DD, YYYY
        var formattedDate = new Intl.DateTimeFormat('en-US', {
            year: 'numeric',
            month: 'short',
            day: '2-digit'
        }).format(dateObject);

        // Display the result
        document.getElementById("result").innerText = formattedDate;
        hideCalendarPopup('departure');
    }



    function convertDateFormat1() {
               // Get the date value from the input
               var dateInput = document.getElementById("dateInput1").value;

               // Convert the date to a Date object
               var dateObject = new Date(dateInput);

               // Format the date as MMM DD, YYYY
               var formattedDate = new Intl.DateTimeFormat('en-US', {
                   year: 'numeric',
                   month: 'short',
                   day: '2-digit'
               }).format(dateObject);

               // Display the result
               document.getElementById("result1").innerText = formattedDate;
               hideCalendarPopup('return');
           }


  </script>